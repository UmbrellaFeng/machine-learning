双目视觉(4)
=========
本章中，将会介绍Birchfield and Tomasi在1998年所提出的[BT算法](http://code.opencv.org/attachments/605/BT1998.pdf)

## 引入
假设iL、iR为扫描线的亮度强度函数，
而图像传感器将其采集并离散化为两个一维矩阵IL、IR。
则我们的目标为通过左右两行矩阵获得的深度。

首先，定义
<a href="https://www.codecogs.com/eqnedit.php?latex=\widehat{I}_R" target="_blank"><img src="https://latex.codecogs.com/gif.latex?\widehat{I}_R" title="\widehat{I}_R" /></a>
为右图扫描线的线性插值函数。

则可定义左图xL在右图xR处的差异度

<a href="https://www.codecogs.com/eqnedit.php?latex=\overline{d}(x_L,x_R,I_L,I_R)=_{x_R&space;-&space;\frac{1}{2}&space;\leq&space;x\leq&space;x_R&space;&plus;&space;\frac{1}{2}}^{min}&space;\left&space;|&space;I_L(x_L)-&space;\widehat{I}_R(x)\right&space;|" target="_blank"><img src="https://latex.codecogs.com/gif.latex?\overline{d}(x_L,x_R,I_L,I_R)=_{x_R&space;-&space;\frac{1}{2}&space;\leq&space;x\leq&space;x_R&space;&plus;&space;\frac{1}{2}}^{min}&space;\left&space;|&space;I_L(x_L)-&space;\widehat{I}_R(x)\right&space;|" title="\overline{d}(x_L,x_R,I_L,I_R)=_{x_R - \frac{1}{2} \leq x\leq x_R + \frac{1}{2}}^{min} \left | I_L(x_L)- \widehat{I}_R(x)\right |" /></a>

同理，可定义

<a href="https://www.codecogs.com/eqnedit.php?latex=\overline{d}(x_R,x_L,I_R,I_L)=_{x_L&space;-&space;\frac{1}{2}&space;\leq&space;x\leq&space;x_L&space;&plus;&space;\frac{1}{2}}^{min}&space;\left&space;|&space;\widehat{I}_L(x)-&space;I_R(x_R)\right&space;|" target="_blank"><img src="https://latex.codecogs.com/gif.latex?\overline{d}(x_R,x_L,I_R,I_L)=_{x_L&space;-&space;\frac{1}{2}&space;\leq&space;x\leq&space;x_L&space;&plus;&space;\frac{1}{2}}^{min}&space;\left&space;|&space;\widehat{I}_L(x)-&space;I_R(x_R)\right&space;|" title="\overline{d}(x_R,x_L,I_R,I_L)=_{x_L - \frac{1}{2} \leq x\leq x_L + \frac{1}{2}}^{min} \left | \widehat{I}_L(x)- I_R(x_R)\right |" /></a>

而像素间的差异度可以定义为两者的最小值(累死了 不打letex了...)
<div  align="center">    
<img src="https://raw.githubusercontent.com/lvniqi/machine-learning/master/stero_vision/notes/Stereo%20camera_algorithm2_p1.PNG" width = "400"  align=center />
</div>

使用
<a href="https://www.codecogs.com/eqnedit.php?latex=I^-_R" target="_blank"><img src="https://latex.codecogs.com/gif.latex?I^-_R" title="I^-_R" /></a>作为左侧像素的插值点
<div  align="center">    
<img src="https://raw.githubusercontent.com/lvniqi/machine-learning/master/stero_vision/notes/Stereo%20camera_algorithm2_p2.PNG" width = "400"  align=center />
</div>

使用<a href="https://www.codecogs.com/eqnedit.php?latex=I^&plus;_R" target="_blank"><img src="https://latex.codecogs.com/gif.latex?I^&plus;_R" title="I^+_R" /></a>作为右侧像素的插值点
<div  align="center">    
<img src="https://raw.githubusercontent.com/lvniqi/machine-learning/master/stero_vision/notes/Stereo%20camera_algorithm2_p3.PNG" width = "400"  align=center />
</div>

则令<img src="https://raw.githubusercontent.com/lvniqi/machine-learning/master/stero_vision/notes/Stereo%20camera_algorithm2_p4.PNG" width = "400" align=center />
可以将问题简化为